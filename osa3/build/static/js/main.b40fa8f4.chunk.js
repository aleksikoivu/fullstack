(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{16:function(e,t,n){e.exports=n(38)},38:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(15),u=n.n(l),c=n(4),r=n(2),i=function(e){return o.a.createElement("div",null,"Filter phonebook by:",o.a.createElement("input",{onChange:e.filter}))},m=function(e){return o.a.createElement("div",null,e.persons.map((function(t){return o.a.createElement("ul",{key:t.id},t.name," - ",t.number," - ",o.a.createElement("button",{onClick:e.deleteP,value:t.id},"Klikkaa mua boii"))})))},s=function(e){return o.a.createElement("form",{onSubmit:e.submit},o.a.createElement("div",null,"Name: ",o.a.createElement("input",{value:e.name,onChange:e.nameChange})),o.a.createElement("div",null,"Number: ",o.a.createElement("input",{value:e.number,onChange:e.numberChange})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"Add")))},f=(n(6),function(e){return null===e.Notification?null:o.a.createElement("div",null,o.a.createElement("li",{className:"notification"},e.Notification),o.a.createElement("li",{className:"error"},e.errorMessage))}),d=n(3),b=n.n(d),g="/api/persons",v=function(){return b.a.get(g)},E=function(e){return b.a.post(g,e)},h=function(e){return b.a.delete(g+"/".concat(e))},p=function(e,t){return b.a.put(g+"/".concat(e),t)},O=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],l=t[1],u=Object(a.useState)("Etunimi Sukunimi"),d=Object(r.a)(u,2),b=d[0],g=d[1],O=Object(a.useState)("040 123 123"),j=Object(r.a)(O,2),C=j[0],w=j[1],k=Object(a.useState)([]),S=Object(r.a)(k,2),N=S[0],y=S[1],L=Object(a.useState)(),T=Object(r.a)(L,2),D=T[0],M=T[1],P=Object(a.useState)(),x=Object(r.a)(P,2),I=x[0],J=x[1];Object(a.useEffect)((function(){console.log("effect"),v().then((function(e){console.log(e.data),l(e.data),y(e.data)}))}),[]);return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement(f,{Notification:D,errorMessage:I}),o.a.createElement(i,{filter:function(e){console.log(e.target.value);var t=e.target.value;if(e.target.value){var a=n.filter((function(e){return!e.name.toLowerCase().indexOf(t.toLowerCase())}));y(a)}else y(n);console.log(N)}}),o.a.createElement(s,{name:b,number:C,nameChange:function(e){console.log(e.target.value),g(e.target.value)},numberChange:function(e){console.log(e.target.value),w(e.target.value)},submit:function(e){e.preventDefault();var t={name:b,number:C},a=n.find((function(e){return e.name.toLowerCase()===t.name.toLowerCase()}));if(void 0!==a){var o=Object(c.a)(Object(c.a)({},a),{},{number:C});window.confirm("Do you want to update ".concat(b,"'s number?"))&&(console.log("update"),p(a.id,o).then((function(e){console.log(e),v().then((function(e){l(e.data),y(e.data),M("".concat(o.name," number changed")),setTimeout((function(){M(null)}),3e3)}))})))}else l(n.concat(t)),y(n.concat(t)),E(t).then((function(e){console.log(e),console.log("added"),M("".concat(t.name," added")),setTimeout((function(){M(null)}),3e3)})),g(""),w("")}}),o.a.createElement("h2",null,"Numbers"),o.a.createElement(m,{persons:N,deleteP:function(e){if(window.confirm("Delete person?")){console.log(e.target.value);var t=n.find((function(t){return t.id===parseInt(e.target.value)}));console.log("to be deleted = ",t),h(e.target.value).then((function(e){console.log(e.data),console.log("deleted"),v().then((function(e){l(e.data),y(e.data),M("".concat(t.name," deleted")),setTimeout((function(){M(null)}),3e3)}))})).catch((function(e){J("".concat(t.name," is already removed from the server")),setTimeout((function(){J(null)}),3e3)}))}}}))};u.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(O,null)),document.getElementById("root"))},6:function(e,t,n){}},[[16,1,2]]]);
//# sourceMappingURL=main.b40fa8f4.chunk.js.map